{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport Fetch from \"./fetch\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var token;\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  function FetchData() {\n    return _regeneratorRuntime.async(function FetchData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fetch('https://airport-vehicle-management-backend-urtjok3rza-wl.a.run.app/authenticate', {\n              method: 'POST',\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                username: name,\n                password: password\n              })\n            }).then(function (response) {\n              response.json().then(function (result) {\n                token = result.token;\n                console.log(token);\n                localStorage.setItem('token', JSON.stringify({\n                  token: result.token\n                }));\n              });\n            }).catch(function (error) {\n              console.error(error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function isValid(name, password) {\n    console.log(name + \" \" + password);\n    FetchData();\n\n    if (token != undefined) {\n      navigation.navigate('Fetch');\n    } else {\n      alert(\"Invalid Username or Password\");\n    }\n  }\n\n  return _jsxs(View, {\n    style: styles.mainContainer,\n    children: [_jsxs(View, {\n      style: styles.welcomeContainer,\n      children: [_jsx(Text, {\n        style: styles.welcomeText1,\n        children: \"Welcome Back!\"\n      }), _jsx(Text, {\n        style: styles.welcomeText2,\n        children: \"please sign in to your account\"\n      })]\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(View, {\n        style: styles.inputBtn,\n        children: _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return setName(value);\n          },\n          placeholder: \"Username\",\n          placeholderTextColor: \"#808e9b\",\n          textContentType: \"username\"\n        })\n      }), _jsx(View, {\n        style: styles.inputBtn,\n        children: _jsx(TextInput, {\n          onChangeText: function onChangeText(value) {\n            return setPassword(value);\n          },\n          placeholder: \"Password\",\n          secureTextEntry: true,\n          placeholderTextColor: \"#808e9b\",\n          textContentType: \"password\"\n        })\n      })]\n    }), _jsx(View, {\n      style: styles.signContainer,\n      children: _jsx(TouchableOpacity, {\n        style: [styles.signin, styles.signin1],\n        onPress: function onPress() {\n          isValid(name, password);\n        },\n        children: _jsx(Text, {\n          style: styles.signinInput1,\n          children: \"Sign In\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'black'\n  },\n  welcomeContainer: {\n    flex: 0.25,\n    justifyContent: 'center'\n  },\n  welcomeText1: {\n    fontSize: 30,\n    color: 'white',\n    alignSelf: 'center'\n  },\n  welcomeText2: {\n    fontSize: 20,\n    color: '#808e9b'\n  },\n  inputContainer: {\n    flex: 0.25,\n    width: '100%',\n    height: '100%'\n  },\n  inputBtn: {\n    backgroundColor: '#333',\n    borderRadius: 100,\n    paddingHorizontal: 20,\n    marginTop: 30,\n    marginHorizontal: 20,\n    height: 50\n  },\n  ForgetPassword: {\n    alignSelf: 'flex-end',\n    paddingEnd: 20\n  },\n  ForgetPasswordText: {\n    color: '#808e9b'\n  },\n  signContainer: {\n    flex: 0.5,\n    justifyContent: 'center',\n    width: '100%'\n  },\n  signin: {\n    height: 60,\n    backgroundColor: '#333',\n    borderRadius: 20,\n    paddingHorizontal: 20,\n    marginTop: 20,\n    marginHorizontal: 20,\n    color: '#808e9b'\n  },\n  signin1: {\n    backgroundColor: '#528AAE'\n  },\n  signinInput1: {\n    color: 'white',\n    alignSelf: 'center',\n    paddingTop: 20,\n    fontWeight: '400'\n  },\n  signin2: {\n    backgroundColor: '#CDEAF7'\n  },\n  signinInput2: {\n    color: 'black',\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  signin3: {\n    backgroundColor: '#2E5984'\n  },\n  signinInput3: {\n    color: 'white',\n    alignSelf: 'center',\n    paddingTop: 10\n  },\n  signupContainer: {\n    marginTop: 15,\n    alignItems: 'center'\n  },\n  signup1: {\n    color: '#808e9b'\n  },\n  signup2: {\n    color: '#2E5984'\n  }\n});","map":{"version":3,"names":["React","useState","Fetch","Icon","Login","navigation","name","setName","password","setPassword","token","data","setData","FetchData","fetch","method","headers","body","JSON","stringify","username","then","response","json","result","console","log","localStorage","setItem","catch","error","isValid","undefined","navigate","alert","styles","mainContainer","welcomeContainer","welcomeText1","welcomeText2","inputContainer","inputBtn","value","signContainer","signin","signin1","signinInput1","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","fontSize","color","alignSelf","width","height","borderRadius","paddingHorizontal","marginTop","marginHorizontal","ForgetPassword","paddingEnd","ForgetPasswordText","paddingTop","fontWeight","signin2","signinInput2","signin3","signinInput3","signupContainer","signup1","signup2"],"sources":["D:/AVMS/Login/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport Fetch from './fetch';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport Icon from 'react-native-vector-icons/FontAwesome';\r\n\r\n\r\nexport default function Login({navigation}) {\r\n  const [name, setName] = useState(''); //Stores username\r\n  const [password, setPassword] = useState(''); //Stores Password\r\n  // const realname=\"Kamesh\";\r\n  // const realPassword=\"12345\";\r\n  var token;\r\n \r\n \r\n const[data,setData]=useState('');\r\nasync function FetchData() {\r\n  //const{name,password}=route.params;\r\n  \r\n  fetch('https://airport-vehicle-management-backend-urtjok3rza-wl.a.run.app/authenticate', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      username: name,\r\n      password: password,\r\n    })\r\n  })\r\n  .then((response) =>{ response.json().then((result)=>{\r\n    \r\n    token=result.token;\r\n    console.log(token);\r\n    \r\n    localStorage.setItem('token',JSON.stringify({token:result.token}))\r\n  })})\r\n  // .then((responseJson) => {\r\n  //   console.log(responseJson.token);\r\n  //   setData(responseJson);\r\n  //   //console.log(data);\r\n    \r\n    \r\n  //   //console.log(realname+\" \"+realPassword);\r\n  // })\r\n  .catch((error) => {\r\n  console.error(error);\r\n   });\r\n  \r\n \r\n  //console.log(realname);\r\n}\r\n\r\n  function isValid(name,password){\r\n    console.log(name+\" \"+password);\r\n    //console.log(realname+\" \"+realPassword);\r\n    FetchData();\r\n     if(token!=undefined)\r\n    {\r\n     navigation.navigate('Fetch');\r\n    }\r\n     else\r\n     {\r\n       //if(!localStorage.getItem('token'))\r\n     alert(\"Invalid Username or Password\");\r\n    }\r\n  }\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      <View style={styles.welcomeContainer}>\r\n        <Text style={styles.welcomeText1}>Welcome Back!</Text>\r\n        <Text style={styles.welcomeText2}>please sign in to your account</Text>\r\n      </View>\r\n      <View style={styles.inputContainer}>\r\n        <View style={styles.inputBtn}>\r\n          <TextInput\r\n            onChangeText={value => setName(value)} //sets the value\r\n            placeholder=\"Username\" //It's Like an hint\r\n            placeholderTextColor=\"#808e9b\" //Specify the Color for placeholder\r\n            textContentType=\"username\" //Check the entry accordingly\r\n          />\r\n        </View>\r\n        <View style={styles.inputBtn}>\r\n          <TextInput\r\n            onChangeText={value => setPassword(value)}\r\n            placeholder=\"Password\"\r\n            secureTextEntry={true}\r\n            placeholderTextColor=\"#808e9b\"\r\n            textContentType=\"password\"\r\n          />\r\n        </View>\r\n      </View>\r\n      \r\n      <View style={styles.signContainer}>\r\n        <TouchableOpacity\r\n          style={[styles.signin, styles.signin1]}\r\n          onPress={() => {isValid(name,password)}}>\r\n          <Text style={styles.signinInput1}>Sign In</Text>\r\n        </TouchableOpacity>\r\n        \r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  mainContainer: {\r\n    flex: 1, //Screen Ratio\r\n    justifyContent: 'center', //Places the whole content to center\r\n    alignItems: 'center', //Places the content to the middle\r\n    backgroundColor: 'black',\r\n  },\r\n  welcomeContainer: {\r\n    flex: 0.25,\r\n    justifyContent: 'center',\r\n  },\r\n  welcomeText1: {\r\n    fontSize: 30,\r\n    color: 'white', //Specify Text Color\r\n    alignSelf: 'center', //Places the text to center\r\n  },\r\n  welcomeText2: {\r\n    fontSize: 20,\r\n    color: '#808e9b',\r\n  },\r\n  inputContainer: {\r\n    flex: 0.25,\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  inputBtn: {\r\n    backgroundColor: '#333',\r\n    borderRadius: 100,\r\n    paddingHorizontal: 20,\r\n    marginTop: 30,\r\n    marginHorizontal: 20,\r\n    height: 50\r\n    \r\n  },\r\n  ForgetPassword: {\r\n    alignSelf: 'flex-end',\r\n    paddingEnd: 20,\r\n  },\r\n  ForgetPasswordText: {\r\n    color: '#808e9b',\r\n  },\r\n  signContainer: {\r\n    flex: 0.5,\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n  },\r\n  signin: {\r\n    height: 60,\r\n    backgroundColor: '#333',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n    marginHorizontal: 20,\r\n    color: '#808e9b',\r\n  },\r\n  signin1: {\r\n    backgroundColor: '#528AAE',\r\n  },\r\n  signinInput1: {\r\n    color: 'white',\r\n    alignSelf: 'center',\r\n    paddingTop: 20,\r\n    fontWeight: '400',\r\n  },\r\n  signin2: {\r\n    backgroundColor: '#CDEAF7',\r\n  },\r\n  signinInput2: {\r\n    color: 'black',\r\n    alignSelf: 'center',\r\n    paddingTop: 10,\r\n  },\r\n  signin3: {\r\n    backgroundColor: '#2E5984',\r\n  },\r\n  signinInput3: {\r\n    color: 'white',\r\n    alignSelf: 'center',\r\n    paddingTop: 10,\r\n  },\r\n  signupContainer: {\r\n    marginTop: 15,\r\n    alignItems: 'center',\r\n  },\r\n  signup1: {\r\n    color: '#808e9b',\r\n  },\r\n  signup2: {\r\n    color: '#2E5984',\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}